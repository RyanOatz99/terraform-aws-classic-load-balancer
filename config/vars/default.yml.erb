---
vpc_cidr: '10.1.0.0/16'
region: 'eu-west-2'
availability_zones: 'eu-west-2a,eu-west-2b'

component: 'test'
deployment_identifier: '<%= @deployment_identifier %>'
dependencies: 'other,stuff'

bastion_ami: 'ami-bb373ddf'
bastion_user: 'centos'
bastion_instance_type: 't2.medium'
bastion_ssh_public_key_path: '<%= @project_directory %>/config/secrets/keys/bastion/ssh.public'
bastion_ssh_private_key_path: '<%= @project_directory %>/config/secrets/keys/bastion/ssh.private'
bastion_ssh_allow_cidrs: "<%= @public_ip %>/32"

domain_name: 'greasedscone.uk'
public_zone_id: 'Z4Q2X3ESOZT4N'
private_zone_id: 'Z2CDAFD23Q10HO'

infrastructure_events_bucket: 'tobyclemson-open-source'

listener_1_lb_port: 80
listener_1_lb_protocol: 'HTTP'
listener_1_instance_port: 80
listener_1_instance_protocol: 'HTTP'
listener_1_allow_cidr: '0.0.0.0/0'

listener_2_lb_port: 6567
listener_2_lb_protocol: 'TCP'
listener_2_instance_port: 6567
listener_2_instance_protocol: 'TCP'
listener_2_allow_cidr: '10.0.0.0/8'

listeners: '[
  {
    lb_port = 80
    lb_protocol = "HTTP"
    instance_port = 80
    instance_protocol = "HTTP"
  },
  {
    lb_port = 6567
    lb_protocol = "TCP"
    instance_port = 6567
    instance_protocol = "TCP"
  }
]'

access_control: '[
  {
    lb_port = 80
    instance_port = 80
    allow_cidr = "0.0.0.0/0"
  },
  {
    lb_port = 6567
    instance_port = 6567
    allow_cidr = "10.0.0.0/8"
  }
]'

egress_cidrs: '[]'

health_check_target: 'HTTP:8080/api/ping'
health_check_timeout: 10
health_check_interval: 20
health_check_unhealthy_threshold: 5
health_check_healthy_threshold: 5

enable_cross_zone_load_balancing: 'no'

enable_connection_draining: 'yes'
connection_draining_timeout: 60

idle_timeout: 120

include_public_dns_record: 'no'
include_private_dns_record: 'yes'

expose_to_public_internet: 'no'
